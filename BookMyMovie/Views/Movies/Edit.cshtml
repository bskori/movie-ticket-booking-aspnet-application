@model NewMovieVM

@{ 
    ViewData["Title"] = "Update movie";
}

<div class="row">
    <div class="col-md-8 offset-md-2">
        <p>
            <h4>Update movie</h4>
        </p>
        <div class="row">
            <div class="col-md-8 offset-md-2">
                <form asp-action="Edit">
                    <div class="row">
                        <div class="text-danger" asp-validation-summary="ModelOnly"></div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label" asp-for="@Model.Name"></label>
                                <input class="form-control" asp-for="@Model.Name" />
                                <span class="text-danger" asp-validation-for="@Model.Name"></span>
                            </div>
                            <div class="form-group">
                                <label class="control-label" asp-for="@Model.StartDate"></label>
                                <input class="form-control" type="date" asp-for="@Model.StartDate" />
                                <span class="text-danger" asp-validation-for="@Model.StartDate"></span>
                            </div>
                            <div class="form-group">
                                <label class="control-label" asp-for="@Model.EndDate"></label>
                                <input class="form-control" type="date" asp-for="@Model.EndDate" />
                                <span class="text-danger" asp-validation-for="@Model.EndDate"></span>
                            </div>
                            <div class="form-group">
                                <label class="control-label" asp-for="@Model.Price"></label>
                                <input class="form-control" type="number" asp-for="@Model.Price" />
                                <span class="text-danger" asp-validation-for="@Model.Price"></span>
                            </div>
                            <div class="form-group">
                                <label class="control-label" asp-for="@Model.ImageUrl"></label>
                                <input class="form-control" asp-for="@Model.ImageUrl" />
                                <span class="text-danger" asp-validation-for="@Model.ImageUrl"></span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="control-label" asp-for="@Model.CinemaID"></label>
                                <select class="form-control" asp-for="@Model.CinemaID" asp-items="@ViewBag.Cinemas"></select>
                                <span class="text-danger" asp-validation-for="@Model.CinemaID"></span>
                            </div>
                            <div class="form-group">
                                <label class="control-label" asp-for="@Model.MovieCategory"></label>
                                <select class="form-control" asp-for="@Model.MovieCategory" asp-items="Html.GetEnumSelectList<MovieCategory>()"></select>
                                <span class="text-danger" asp-validation-for="@Model.MovieCategory"></span>
                            </div>
                            <div class="form-group">
                                <label class="control-label" asp-for="@Model.ProducerID"></label>
                                <select class="form-control" asp-for="@Model.ProducerID" asp-items="@ViewBag.Producers"></select>
                                <span class="text-danger" asp-validation-for="@Model.ProducerID"></span>
                            </div>
                            <div class="form-group">
                                <label class="control-label" asp-for="@Model.ActorIds"></label>
                                <select class="form-control" asp-for="@Model.ActorIds" asp-items="@ViewBag.Actors" multiple></select>
                                <span class="text-danger" asp-validation-for="@Model.ActorIds"></span>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label class="control-label" asp-for="@Model.Description"></label>
                                <textarea class="form-control" asp-for="@Model.Description"></textarea>
                                <span class="text-danger" asp-validation-for="@Model.Description"></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 offset-md-4 text-center">
                        <img id="ImageUrlPreview" width="100%" />
                    </div>
                    <div class="form-group">
                        <input class="btn btn-outline-primary float-right" type="submit" value="Update" />
                        <a class="btn btn-outline-secondary" asp-action="Index"> Show All </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts{ 
    <script>
        $(document).ready(function () {
            var output = document.getElementById("ImageUrlPreview");
            output.src = $("#ImageUrl").val();
        })

        $("#ImageUrl").on("change", function () {
            var output = document.getElementById("ImageUrlPreview");
            output.src = $(this).val();
        })
    </script>
}